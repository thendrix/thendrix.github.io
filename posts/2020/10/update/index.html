<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Terry Hendrix">
<meta name="description" content="Quite a bit has changed as we move towards alpha. This post will mostly deal with environmental rendering changes. This means you won&amp;rsquo;t see any of my character or weapon art for this post. Basically, all the prototypes are being generalized and systems are being merged and replaced for the best trade offs. This also means Low/Med/High graphics quality levels are being roughed out. All images here are from a GTX 1080 Ti running on Ubuntu 20." />
<meta name="keywords" content=", sky, terrain, water, clouds" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/posts/2020/10/update/" />


    <title>
        
            Update :: Thoughts on GameDev 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.7bfbbe12786fa0ded4b4c0d792cbb36a5bd0bdb0b856dde57aa7b1f6fe0f2b87.css">




<meta itemprop="name" content="Update">
<meta itemprop="description" content="Quite a bit has changed as we move towards alpha. This post will mostly deal with environmental rendering changes. This means you won&rsquo;t see any of my character or weapon art for this post. Basically, all the prototypes are being generalized and systems are being merged and replaced for the best trade offs. This also means Low/Med/High graphics quality levels are being roughed out. All images here are from a GTX 1080 Ti running on Ubuntu 20.">
<meta itemprop="datePublished" content="2020-10-03T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-10-03T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="715">
<meta itemprop="image" content="/"/>



<meta itemprop="keywords" content="sky,terrain,water,clouds," /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/"/>

<meta name="twitter:title" content="Update"/>
<meta name="twitter:description" content="Quite a bit has changed as we move towards alpha. This post will mostly deal with environmental rendering changes. This means you won&rsquo;t see any of my character or weapon art for this post. Basically, all the prototypes are being generalized and systems are being merged and replaced for the best trade offs. This also means Low/Med/High graphics quality levels are being roughed out. All images here are from a GTX 1080 Ti running on Ubuntu 20."/>





    <meta property="article:published_time" content="2020-10-03 00:00:00 &#43;0000 UTC" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /Thoughts/On/GameDev</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#aaa;
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/posts/">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>4 minutes

            

            </p>
        </div>

        <article>
            <h1 class="post-title">
                <a href="/posts/2020/10/update/">Update</a>
            </h1>

            

            <div class="post-content">
                <!-- raw HTML omitted -->
<p>Quite a bit has changed as we move towards alpha. This post will mostly deal with environmental rendering changes. This means you won&rsquo;t see any of my character or weapon art for this post. Basically, all the prototypes are being generalized and systems are being merged and replaced for the best trade offs. This also means Low/Med/High graphics quality levels are being roughed out. All images here are from a GTX 1080 Ti running on Ubuntu 20.04 at 2K vsynced to 60Hz. Once I get an RTX card I will add an Ultra mode focused on hardware based ray tracing. All ray tracing done here is by compute and fragment shaders. Mesh lighting is still done by area lights in the deferred lighting pass and real-time light probe(s) for image-based lighting (IBL).</p>
<h2 id="atmospheric-scattering">Atmospheric Scattering</h2>
<p>Using a simplified ray cast based solution for the sky color that&rsquo;s easier to control by artists and the Game Director. It&rsquo;s not fully physical as there are minor dramatic tweaks enabled by default. Also night time now makes distant objects much darker so they silhouette even during a full moon.</p>
<p>
<div style="width:100%; clear:left;">
    
</div>



<span style="float: left; border-radius:  20px 0px 0px 20px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/Night.png">
            <img src="/images/20201002/Night.png" alt="Low quality constant fog" title="Low quality constant fog"  />
        </a>
        
    </figure>
</span>






<span style="float: left; border-radius:  0px 20px 20px 0px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/Day.png">
            <img src="/images/20201002/Day.png" alt="Physically-based fog" title="Physically-based fog"  />
        </a>
        
    </figure>
</span>





<div style="width:100%; clear:left;">
    
    <p style="text-align:center">
        <i>Night vs Day Aerial Perspective</i>
    </p>
    
    <p>&nbsp;<p>
</div>
</p>
<h2 id="clouds">Clouds</h2>
<p>Noise based volumetric clouds generated by compute shaders replace the ray-marched SDF solution to allow easier artistic control at a consistent cost. This also makes it possible to use frame reprojection for lower end systems. Yes, this is basically the same as the Horizon Zero Dawn style clouds. Not much variation shown in these images as I don&rsquo;t have presets done for &lsquo;storm&rsquo; clouds or anything interesting yet.</p>
<h2 id="fog-quality-settings">Fog Quality Settings</h2>
<p>There are now three quality &ldquo;fog&rdquo; levels:</p>
<ul>
<li>Constant color (LOW)</li>
<li>Real-time updated sky cubemap based (MED)</li>
<li>Ray cast physically based (HIGH)</li>
</ul>
<p>The old fog (MED) has been seen before, so here is the new stuff:</p>
<p>
<div style="width:100%; clear:left;">
    
</div>



<span style="float: left; border-radius:  20px 0px 0px 20px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/64b704949bb10067.png">
            <img src="/images/20201002/64b704949bb10067.png" alt="Low quality constant fog" title="Low quality constant fog"  />
        </a>
        
    </figure>
</span>






<span style="float: left; border-radius:  0px 20px 20px 0px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/282c203cfae47b85.png">
            <img src="/images/20201002/282c203cfae47b85.png" alt="Physically-based fog" title="Physically-based fog"  />
        </a>
        
    </figure>
</span>





<div style="width:100%; clear:left;">
    
    <p style="text-align:center">
        <i>Constant color (LOW) vs Physically-based (HIGH)</i>
    </p>
    
    <p>&nbsp;<p>
</div>
</p>
<h2 id="terrain">Terrain</h2>
<p>The new terrain generator is not ready to show off yet unfortunately. However I will show some debug visualizations of the infinite island generator output. Basically the game is setup to generate an infinite amount of island chains in various configurations. Right now you&rsquo;ll just see islands similar to those in the Pacific. At one point large land masses where generated as well, but it makes it hard to get around and not as fun. Maybe the river system can make these viable later.</p>
<p>You might also notice the new algorithmic erosion if you look closely. This erosion is generated and not simulated, which makes it hella fast.</p>
<p>These islands are being regenerated every frame using a compute shader for stress testing the renderer, and still keep up 60Hz. Normally during game play they would just generate as needed as the player sails around the ocean. On the wall of the main test area there is a &lsquo;poster&rsquo; that infinitely scrolls a generated world as part of the testing. The first debug visualization shows a zoomed in look on that poster. False colors are used to get a better feel of the topology of the island. the rest of the debug shots are another tiny generated island in the middle of the ocean for testing.</p>
<p>
<div style="width:100%; clear:left;">
    
</div>



<span style="float: left; border-radius:  20px 0px 0px 0px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/debug-island.png">
            <img src="/images/20201002/debug-island.png" alt="Debug visualization of island 2D" title="Debug visualization of island 2D"  />
        </a>
        
    </figure>
</span>






<span style="float: left; border-radius:  0px 20px 0px 0px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/debug-island2.png">
            <img src="/images/20201002/debug-island2.png" alt="Debug visualization of island 3D ray-marched" title="Debug visualization of island 3D ray-marched"  />
        </a>
        
    </figure>
</span>






<span style="float: left; border-radius:  0px 0px 0px 20px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/debug-island3.png">
            <img src="/images/20201002/debug-island3.png" alt="Debug visualization of island 3D ray-marched" title="Debug visualization of island 3D ray-marched"  />
        </a>
        
    </figure>
</span>






<span style="float: left; border-radius:  0px 0px 20px 0px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/debug-island4.png">
            <img src="/images/20201002/debug-island4.png" alt="Debug visualization of island 3D ray-marched" title="Debug visualization of island 3D ray-marched"  />
        </a>
        
    </figure>
</span>





<div style="width:100%; clear:left;">
    
    <p style="text-align:center">
        <i>Debug visualizations of new island generator</i>
    </p>
    
    <p>&nbsp;<p>
</div>
</p>
<p>The river generator for the new terrain system is being reworked to possibly allow the Game Director to make specific types of rivers via grammars across AI choosen end points and sources. This will require more processing that the current algorithmic based rivers. This may get cut as I&rsquo;m unsure how many people care about this. Speaking about water&hellip; we have an update section on water below!</p>


<div style="display: block; margin: auto; max-width:  90% ; height: auto; padding: 1px;">
    <figure 
        style="border-radius: 16px; overflow: hidden;">
        <a href="/images/20201002/river-debug.png">
            <img src="/images/20201002/river-debug.png" alt="Debug visualization of island sliced at a specific elevation with grid lines and heavy outline for &#39;shore area&#39; for river topology study" title="Debug visualization of island sliced at a specific elevation with grid lines and heavy outline for &#39;shore area&#39; for river topology study"  />
        </a>
      
    </figure>
    <caption>
        <p style="text-align:center">
            <i>Debug visualization of island sliced at a specific elevation with grid lines and heavy outline for &#39;shore area&#39; for river topology study</i>
        </p>
    </caption>
</div>


<h2 id="water">Water</h2>
<p>Ray-marched signed distance fields based (SDF) water replaces the old deferred water system. Underwater lighting has also been updated. Currently this water doesn&rsquo;t have proper LoDs for high elevation camera shots like the old water.</p>
<p>Some VFX are disabled to focus on lighting changes in images below. SDF based water will make it easier to control the shape and volume of water bodies, waves, and add improved interaction later.</p>
<p>I haven&rsquo;t made an SSR or other type of reflection solution for the new water yet as I plan to make that another pass.</p>
<p>
<div style="width:100%; clear:left;">
    
</div>



<span style="float: left; border-radius:  20px 0px 0px 20px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/Underwater.png">
            <img src="/images/20201002/Underwater.png" alt="Deferred water" title="Deferred water"  />
        </a>
        
    </figure>
</span>






<span style="float: left; border-radius:  0px 20px 20px 0px ; max-width:  50% ; height: auto; overflow: hidden; padding: 1px;">
    <figure  style="margin: 0px;">
        <a href="/images/20201002/RayMarchedWater.png">
            <img src="/images/20201002/RayMarchedWater.png" alt="Ray-marched water" title="Ray-marched water"  />
        </a>
        
    </figure>
</span>





<div style="width:100%; clear:left;">
    
    <p style="text-align:center">
        <i>Water, water everywhere</i>
    </p>
    
    <p>&nbsp;<p>
</div>
</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
                <p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="/tags/sky">sky</a></span><span class="tag"><a href="/tags/terrain">terrain</a></span><span class="tag"><a href="/tags/water">water</a></span><span class="tag"><a href="/tags/clouds">clouds</a></span>
                </p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>715 Words</p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2020-10-02 17:00 -0700</p>
        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h"></span>
                    <hr />
                </div>

                <div class="pagination__buttons">
                    
                        <span class="button previous">
                            <a href="/posts/2020/10/image-based-placement/">
                                <span class="button__icon">←</span>
                                <span class="button__text">Image-Based Placement</span>
                            </a>
                        </span>
                    

                    
                        <span class="button next">
                            <a href="/posts/2020/03/welcome/">
                                <span class="button__text">Welcome</span>
                                <span class="button__icon">→</span>
                            </a>
                        </span>
                    
                </div>
            </div>
        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020</span>
            
                <span><a href="/">Terry Hendrix II</a></span>
            
            <span></span>
            <span> <a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.2d5469329143160ae2456a69c3c76dc2d0a3b212b46afe291a51bd68650ed6f8697e001dab54f1c272c77ce08092a8c55e5bb4314e0ee334aab4b927ec896638.js" integrity="sha512-LVRpMpFDFgriRWppw8dtwtCjshK0av4pGlG9aGUO1vhpfgAdq1TxwnLHfOCAkqjFXlu0MU4O4zSqtLkn7IlmOA=="></script>



    </body>
</html>
